{"ast":null,"code":"var _jsxFileName = \"/Users/fmartins/Trybe/fabemiliano.github.io/projetos/recipe-app/sd-03-recipes-app-04/src/components/MainFoodScreen.jsx\";\nimport React, { useState, useEffect, useContext } from 'react';\nimport { Link } from 'react-router-dom';\nimport { getCategoriesList, getMealByCategorie } from '../services/foodApi';\nimport { ContextAplication } from '../context/ContextAplication';\nimport InferiorMenu from './InferiorMenu';\nimport Header from './Header';\nimport './CSS/MainFoodScreen.css';\nimport chicken from \"../images/chicken.svg\";\nimport beef from \"../images/beef.svg\";\nimport goat from \"../images/goat.svg\";\nimport dessert from \"../images/dessert.svg\";\nimport breakfast from \"../images/breakfast.svg\";\nconst filterPics = [beef, breakfast, chicken, dessert, goat];\n\nfunction FilterButtons(Categories, handleClick) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"button-div\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    \"data-testid\": \"All-category-filter\",\n    type: \"button\",\n    value: \"All\",\n    onClick: handleClick,\n    className: \"button-main-screen\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 7\n    }\n  }, \"All\"), Categories.reduce((arr, e, i) => {\n    if (i < 5) {\n      return [...arr, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        \"data-testid\": `${e.strCategory}-category-filter`,\n        value: e.strCategory,\n        onClick: handleClick,\n        className: \"button-main-screen\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: filterPics[i],\n        alt: \"\",\n        width: \"20px\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 15\n        }\n      }), e.strCategory)];\n    }\n\n    return arr;\n  }, []));\n}\n\nfunction MealsList(Data) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"recipes-results\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }\n  }, Data.reduce((arr, e, i) => {\n    if (i < 12) {\n      return [...arr, /*#__PURE__*/React.createElement(Link, {\n        to: `/comidas/${e.idMeal}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: `product-pic-${i} product-pic slide-in-fwd-center`,\n        \"data-testid\": `${i}-recipe-card`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: e.strMealThumb,\n        className: \"recipe-image\",\n        alt: \"thumbnail\",\n        width: \"120px\",\n        \"data-testid\": `${i}-card-img`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"h5\", {\n        \"data-testid\": `${i}-card-name`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 17\n        }\n      }, e.strMeal)))];\n    }\n\n    return arr;\n  }, []));\n}\n\nfunction MainFoodScreen() {\n  const {\n    Data,\n    getMeals,\n    setData,\n    searchInputVisible,\n    setingredientFilter\n  } = useContext(ContextAplication);\n  const [Categories, setCategories] = useState([]);\n  const [FoodFilter, setFoodFilter] = useState('All');\n  const [isLoading, setisLoading] = useState(false);\n  useEffect(() => {\n    setisLoading(true);\n    getMeals();\n    getCategoriesList().then(answer => setCategories(answer.meals));\n    setisLoading(false);\n    return () => {\n      setingredientFilter('');\n    };\n  }, []);\n  useEffect(() => {\n    if (FoodFilter === 'All') {\n      getMeals();\n    } else {\n      getMealByCategorie(FoodFilter).then(answer => setData(answer.meals));\n    }\n  }, [FoodFilter]);\n\n  const handleClick = event => {\n    if (event.target.value !== FoodFilter) {\n      setFoodFilter(event.target.value);\n    } else {\n      setFoodFilter('All');\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"food-screen\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    screen: 'Comidas',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }\n  }), isLoading && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"loader\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 21\n    }\n  }), !isLoading && !searchInputVisible && FilterButtons(Categories, handleClick), !isLoading && !searchInputVisible && MealsList(Data), /*#__PURE__*/React.createElement(InferiorMenu, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }\n  }));\n}\n\nexport default MainFoodScreen;","map":{"version":3,"sources":["/Users/fmartins/Trybe/fabemiliano.github.io/projetos/recipe-app/sd-03-recipes-app-04/src/components/MainFoodScreen.jsx"],"names":["React","useState","useEffect","useContext","Link","getCategoriesList","getMealByCategorie","ContextAplication","InferiorMenu","Header","filterPics","beef","breakfast","chicken","dessert","goat","FilterButtons","Categories","handleClick","reduce","arr","e","i","strCategory","MealsList","Data","idMeal","strMealThumb","strMeal","MainFoodScreen","getMeals","setData","searchInputVisible","setingredientFilter","setCategories","FoodFilter","setFoodFilter","isLoading","setisLoading","then","answer","meals","event","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport { Link } from 'react-router-dom';\nimport { getCategoriesList, getMealByCategorie } from '../services/foodApi';\nimport { ContextAplication } from '../context/ContextAplication';\nimport InferiorMenu from './InferiorMenu';\nimport Header from './Header';\nimport './CSS/MainFoodScreen.css';\nimport chicken from '../images/chicken.svg';\nimport beef from '../images/beef.svg';\nimport goat from '../images/goat.svg';\nimport dessert from '../images/dessert.svg';\nimport breakfast from '../images/breakfast.svg';\n\nconst filterPics = [beef, breakfast, chicken, dessert, goat];\n\nfunction FilterButtons(Categories, handleClick) {\n  return (\n    <div className=\"button-div\">\n      <button\n        data-testid=\"All-category-filter\"\n        type=\"button\"\n        value=\"All\"\n        onClick={handleClick}\n        className=\"button-main-screen\"\n      >\n        All\n      </button>\n      {Categories.reduce((arr, e, i) => {\n        if (i < 5) {\n          return [...arr,\n            <button\n              type=\"button\"\n              data-testid={`${e.strCategory}-category-filter`}\n              value={e.strCategory}\n              onClick={handleClick}\n              className=\"button-main-screen\"\n            >\n              <img src={filterPics[i]} alt=\"\" width=\"20px\" />\n              {e.strCategory}\n            </button>,\n          ];\n        }\n        return arr;\n      }, [])}\n    </div>\n  );\n}\n\nfunction MealsList(Data) {\n  return (\n    <div className=\"recipes-results\">\n      {Data.reduce((arr, e, i) => {\n        if (i < 12) {\n          return [...arr,\n            <Link to={`/comidas/${e.idMeal}`}>\n              <div\n                className={`product-pic-${i} product-pic slide-in-fwd-center`}\n                data-testid={`${i}-recipe-card`}\n              >\n                <img src={e.strMealThumb} className=\"recipe-image\" alt=\"thumbnail\" width=\"120px\" data-testid={`${i}-card-img`} />\n                <h5 data-testid={`${i}-card-name`}>{e.strMeal}</h5>\n              </div>\n            </Link>,\n          ];\n        }\n        return arr;\n      }, [])}\n    </div>\n  );\n}\n\nfunction MainFoodScreen() {\n  const {\n    Data,\n    getMeals,\n    setData,\n    searchInputVisible,\n    setingredientFilter,\n  } = useContext(ContextAplication);\n  const [Categories, setCategories] = useState([]);\n  const [FoodFilter, setFoodFilter] = useState('All');\n  const [isLoading, setisLoading] = useState(false);\n\n  useEffect(() => {\n    setisLoading(true);\n    getMeals();\n    getCategoriesList()\n      .then((answer) => setCategories(answer.meals));\n    setisLoading(false);\n    return () => {\n      setingredientFilter('');\n    };\n  }, []);\n\n  useEffect(() => {\n    if (FoodFilter === 'All') {\n      getMeals();\n    } else {\n      getMealByCategorie(FoodFilter)\n        .then((answer) => setData(answer.meals));\n    }\n  }, [FoodFilter]);\n\n  const handleClick = (event) => {\n    if (event.target.value !== FoodFilter) {\n      setFoodFilter(event.target.value);\n    } else {\n      setFoodFilter('All');\n    }\n  };\n\n  return (\n    <div className=\"food-screen\">\n      <Header screen={'Comidas'} />\n      {isLoading && <div className=\"loader\" />}\n      {!isLoading && !searchInputVisible && FilterButtons(Categories, handleClick)}\n      {!isLoading && !searchInputVisible && MealsList(Data)}\n      <InferiorMenu />\n    </div>\n  );\n}\n\nexport default MainFoodScreen;\n"]},"metadata":{},"sourceType":"module"}