{"ast":null,"code":"var _jsxFileName = \"/Users/fmartins/Trybe/fabemiliano.github.io/projetos/recipe-app/sd-03-recipes-app-04/src/components/DrinkSearchBar.jsx\";\nimport React, { useState } from 'react';\nimport { Redirect, Link } from 'react-router-dom';\nimport * as api from '../services/drink-api';\n\nfunction checkResults(data, setResult, setGoToRoute, setId) {\n  if (data === undefined || data.drinks === null) {\n    alert('Sinto muito, não encontramos nenhuma receita para esses filtros.');\n  } else if (data.drinks.length === 1) {\n    setId(data.drinks[0].idDrink);\n    setGoToRoute(true);\n  } else if (data.drinks.length > 1) {\n    setResult(data.drinks);\n  }\n}\n\nfunction renderRadioButtons(setSearchBy, setDisabled) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"radio-buttons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"ingredient\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    id: \"ingredient\",\n    type: \"radio\",\n    name: \"search\",\n    \"data-testid\": \"ingredient-search-radio\",\n    onChange: e => {\n      setSearchBy(e.target.id);\n      setDisabled(false);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 9\n    }\n  }), \"Ingrediente\"), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    \"data-testid\": \"name-search-radio\",\n    id: \"name\",\n    type: \"radio\",\n    name: \"search\",\n    onChange: e => {\n      setSearchBy(e.target.id);\n      setDisabled(false);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }\n  }), \"Nome\"), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"first-letter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    \"data-testid\": \"first-letter-search-radio\",\n    id: \"first-letter\",\n    type: \"radio\",\n    name: \"search\",\n    onChange: e => {\n      setSearchBy(e.target.id);\n      setDisabled(false);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }), \"Primeira Letra\"));\n}\n\nfunction doSearch(searchBy, searchedItem, setResult, setGoToRoute, setId) {\n  switch (searchBy) {\n    case 'ingredient':\n      {\n        api.getDrinksByIngredient(searchedItem).then(data => checkResults(data, setResult, setGoToRoute, setId));\n        break;\n      }\n\n    case 'name':\n      {\n        api.getDrinksByName(searchedItem).then(data => checkResults(data, setResult, setGoToRoute, setId));\n        break;\n      }\n\n    default:\n      {\n        if (searchedItem.length > 1) {\n          alert('Sua busca deve conter somente 1 (um) caracter');\n        }\n\n        if (searchedItem.length === 1) {\n          api.getDrinksByLetter(searchedItem).then(data => checkResults(data, setResult, setGoToRoute, setId));\n        }\n      }\n  }\n}\n\nfunction DrinkSearchBar() {\n  const [searchedItem, setSearchedItem] = useState('');\n  const [searchBy, setSearchBy] = useState('');\n  const [result, setResult] = useState([]);\n  const [goToRoute, setGoToRoute] = useState(false);\n  const [id, setId] = useState('');\n  const [disabled, setDisabled] = useState('true');\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search-area slide-in-top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    \"data-testid\": \"search-input\",\n    id: \"searched-item\",\n    type: \"text\",\n    onChange: e => setSearchedItem(e.target.value),\n    value: searchedItem,\n    placeholder: \"Buscar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }\n  }), renderRadioButtons(setSearchBy, setDisabled), /*#__PURE__*/React.createElement(\"button\", {\n    \"data-testid\": \"exec-search-btn\",\n    onClick: () => doSearch(searchBy, searchedItem, setResult, setGoToRoute, setId),\n    className: \"search-button\",\n    type: \"button\",\n    disabled: disabled,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }\n  }, \"Buscar\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"recipes-results\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }\n  }, result.reduce((arr, e, i) => {\n    if (i < 12) {\n      return [...arr, /*#__PURE__*/React.createElement(Link, {\n        to: `/bebidas/${e.idDrink}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: `product-pic product-pic-${i}`,\n        \"data-testid\": `${i}-recipe-card`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: e.strDrinkThumb,\n        className: \"recipe-image\",\n        \"data-testid\": `${i}-card-img`,\n        alt: \"thumbnail\",\n        width: \"150px\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 19\n        }\n      }), /*#__PURE__*/React.createElement(\"h5\", {\n        \"data-testid\": `${i}-card-name`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 19\n        }\n      }, e.strDrink.length > 30 ? `${e.strDrink.slice(0, 30)}...` : e.strDrink)))];\n    }\n\n    return arr;\n  }, [])), goToRoute && /*#__PURE__*/React.createElement(Redirect, {\n    to: `/bebidas/${id}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 21\n    }\n  }));\n}\n\nexport default DrinkSearchBar;","map":{"version":3,"sources":["/Users/fmartins/Trybe/fabemiliano.github.io/projetos/recipe-app/sd-03-recipes-app-04/src/components/DrinkSearchBar.jsx"],"names":["React","useState","Redirect","Link","api","checkResults","data","setResult","setGoToRoute","setId","undefined","drinks","alert","length","idDrink","renderRadioButtons","setSearchBy","setDisabled","e","target","id","doSearch","searchBy","searchedItem","getDrinksByIngredient","then","getDrinksByName","getDrinksByLetter","DrinkSearchBar","setSearchedItem","result","goToRoute","disabled","value","reduce","arr","i","strDrinkThumb","strDrink","slice"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { Redirect, Link } from 'react-router-dom';\nimport * as api from '../services/drink-api';\n\nfunction checkResults(data, setResult, setGoToRoute, setId) {\n  if (data === undefined || data.drinks === null) {\n    alert('Sinto muito, não encontramos nenhuma receita para esses filtros.');\n  } else if (data.drinks.length === 1) {\n    setId(data.drinks[0].idDrink);\n    setGoToRoute(true);\n  } else if (data.drinks.length > 1) {\n    setResult(data.drinks);\n  }\n}\n\nfunction renderRadioButtons(setSearchBy, setDisabled) {\n  return (\n    <div className=\"radio-buttons\">\n      <label htmlFor=\"ingredient\">\n        <input\n          id=\"ingredient\"\n          type=\"radio\"\n          name=\"search\"\n          data-testid=\"ingredient-search-radio\"\n          onChange={(e) => {\n            setSearchBy(e.target.id);\n            setDisabled(false);\n          }}\n        />\n        Ingrediente\n      </label>\n      <label htmlFor=\"name\">\n        <input\n          data-testid=\"name-search-radio\"\n          id=\"name\"\n          type=\"radio\"\n          name=\"search\"\n          onChange={(e) => {\n            setSearchBy(e.target.id);\n            setDisabled(false);\n          }}\n        />\n        Nome\n      </label>\n      <label htmlFor=\"first-letter\">\n        <input\n          data-testid=\"first-letter-search-radio\"\n          id=\"first-letter\"\n          type=\"radio\"\n          name=\"search\"\n          onChange={(e) => {\n            setSearchBy(e.target.id);\n            setDisabled(false);\n          }}\n        />\n        Primeira Letra\n      </label>\n    </div>\n  );\n}\n\nfunction doSearch(searchBy, searchedItem, setResult, setGoToRoute, setId) {\n  switch (searchBy) {\n    case 'ingredient': {\n      api.getDrinksByIngredient(searchedItem)\n        .then((data) => checkResults(data, setResult, setGoToRoute, setId));\n      break;\n    }\n    case 'name': {\n      api.getDrinksByName(searchedItem)\n        .then((data) => checkResults(data, setResult, setGoToRoute, setId));\n      break;\n    }\n    default: {\n      if (searchedItem.length > 1) { alert('Sua busca deve conter somente 1 (um) caracter'); }\n      if (searchedItem.length === 1) {\n        api.getDrinksByLetter(searchedItem)\n          .then((data) => checkResults(data, setResult, setGoToRoute, setId));\n      }\n    }\n  }\n}\n\nfunction DrinkSearchBar() {\n  const [searchedItem, setSearchedItem] = useState('');\n  const [searchBy, setSearchBy] = useState('');\n  const [result, setResult] = useState([]);\n  const [goToRoute, setGoToRoute] = useState(false);\n  const [id, setId] = useState('');\n  const [disabled, setDisabled] = useState('true');\n\n  return (\n    <div className=\"search-area slide-in-top\">\n      <input\n        data-testid=\"search-input\"\n        id=\"searched-item\"\n        type=\"text\"\n        onChange={(e) => setSearchedItem(e.target.value)}\n        value={searchedItem}\n        placeholder=\"Buscar\"\n      />\n      {renderRadioButtons(setSearchBy, setDisabled)}\n      <button\n        data-testid=\"exec-search-btn\"\n        onClick={() => doSearch(searchBy, searchedItem, setResult, setGoToRoute, setId)}\n        className=\"search-button\"\n        type=\"button\"\n        disabled={disabled}\n      >\n        Buscar\n      </button>\n      <div className=\"recipes-results\">\n        {result.reduce((arr, e, i) => {\n          if (i < 12) {\n            return [...arr,\n              <Link to={`/bebidas/${e.idDrink}`}>\n                <div className={`product-pic product-pic-${i}`} data-testid={`${i}-recipe-card`}>\n                  <img src={e.strDrinkThumb} className=\"recipe-image\" data-testid={`${i}-card-img`} alt=\"thumbnail\" width=\"150px\" />\n                  <h5 data-testid={`${i}-card-name`}>{(e.strDrink.length > 30) ? `${e.strDrink.slice(0, 30)}...` : e.strDrink}</h5>\n                </div>\n              </Link>,\n            ];\n          }\n          return arr;\n        }, [])}\n      </div>\n      {goToRoute && <Redirect to={`/bebidas/${id}`} />}\n    </div>\n  );\n}\n\nexport default DrinkSearchBar;\n"]},"metadata":{},"sourceType":"module"}