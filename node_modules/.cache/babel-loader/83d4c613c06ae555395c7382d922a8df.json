{"ast":null,"code":"var _jsxFileName = \"/Users/fmartins/Trybe/fabemiliano.github.io/projetos/recipe-app/sd-03-recipes-app-04/src/components/ProgressDrinkScreen.jsx\";\nimport React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { getDrinkByID } from '../services/drink-api';\nimport { mountRecipeList, getIfHasBeenFavorited } from './functionsProgressScreen';\nimport checkedlist from './checklist';\nimport CockTailsRenderRecipesInProgress from './helpersComponents/CockTailsRenderRecipesInProgress';\n\nfunction ProgressDrinkScreen(props) {\n  const [inProgressDrink, setInProgressDrink] = useState([]);\n  const [showCopyAlert, setShowCopyAlert] = useState(false);\n  const [isFavorite, setIsFavorite] = useState(false);\n  const [countChecked, setCountChecked] = useState(0);\n  const ingredientsDoneList = [];\n  let checkLocalStorage = JSON.parse(localStorage.getItem('inProgressRecipes'));\n  const {\n    match: {\n      params: {\n        id\n      }\n    }\n  } = props;\n  const [checked, setChecked] = useState(checkedlist);\n  useEffect(() => {\n    getDrinkByID(id).then(data => {\n      setInProgressDrink(data.drinks[0]);\n    });\n\n    if (getIfHasBeenFavorited(id)) {\n      setIsFavorite(true);\n    }\n\n    if (checkLocalStorage === null) {\n      checkLocalStorage = {\n        cocktails: [],\n        meals: []\n      };\n    }\n\n    if (checkLocalStorage.cocktails === undefined) {\n      checkLocalStorage = { ...checkLocalStorage,\n        cocktails: []\n      };\n      const newStorage = { ...checkLocalStorage,\n        meals: { ...checkLocalStorage.meals,\n          [id]: checked.checkbox,\n          countChecked\n        }\n      };\n      localStorage.setItem('inProgressRecipes', JSON.stringify(newStorage));\n    } else {\n      const newStorage = { ...checkLocalStorage,\n        meals: { ...checkLocalStorage.meals,\n          [id]: checked.checkbox,\n          countChecked\n        }\n      };\n      localStorage.setItem('inProgressRecipes', JSON.stringify(newStorage));\n    }\n\n    if (getIfHasBeenFavorited(id)) {\n      setIsFavorite(true);\n    }\n  }, [id, checkLocalStorage, checked, countChecked]);\n  const data = mountRecipeList(inProgressDrink, checked, ingredientsDoneList);\n  const buttonEnabled = countChecked === data.length;\n  const {\n    location,\n    history\n  } = props;\n  const {\n    pathname\n  } = location;\n  return /*#__PURE__*/React.createElement(CockTailsRenderRecipesInProgress, {\n    values: {\n      data,\n      buttonEnabled,\n      inProgressDrink,\n      showCopyAlert,\n      setShowCopyAlert,\n      checkLocalStorage,\n      isFavorite,\n      id,\n      checked,\n      setCountChecked,\n      setChecked,\n      countChecked,\n      setIsFavorite,\n      pathname,\n      history\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }\n  });\n}\n\nProgressDrinkScreen.propTypes = {\n  match: PropTypes.string.isRequired,\n  location: PropTypes.string.isRequired,\n  history: PropTypes.string.isRequired\n};\nexport default ProgressDrinkScreen;","map":{"version":3,"sources":["/Users/fmartins/Trybe/fabemiliano.github.io/projetos/recipe-app/sd-03-recipes-app-04/src/components/ProgressDrinkScreen.jsx"],"names":["React","useEffect","useState","PropTypes","getDrinkByID","mountRecipeList","getIfHasBeenFavorited","checkedlist","CockTailsRenderRecipesInProgress","ProgressDrinkScreen","props","inProgressDrink","setInProgressDrink","showCopyAlert","setShowCopyAlert","isFavorite","setIsFavorite","countChecked","setCountChecked","ingredientsDoneList","checkLocalStorage","JSON","parse","localStorage","getItem","match","params","id","checked","setChecked","then","data","drinks","cocktails","meals","undefined","newStorage","checkbox","setItem","stringify","buttonEnabled","length","location","history","pathname","propTypes","string","isRequired"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { getDrinkByID } from '../services/drink-api';\nimport { mountRecipeList, getIfHasBeenFavorited } from './functionsProgressScreen';\nimport checkedlist from './checklist';\nimport CockTailsRenderRecipesInProgress from './helpersComponents/CockTailsRenderRecipesInProgress';\n\nfunction ProgressDrinkScreen(props) {\n  const [inProgressDrink, setInProgressDrink] = useState([]);\n  const [showCopyAlert, setShowCopyAlert] = useState(false);\n  const [isFavorite, setIsFavorite] = useState(false);\n  const [countChecked, setCountChecked] = useState(0);\n  const ingredientsDoneList = [];\n  let checkLocalStorage = JSON.parse(localStorage.getItem('inProgressRecipes'));\n  const { match: { params: { id } } } = props;\n\n  const [checked, setChecked] = useState(checkedlist);\n\n  useEffect(() => {\n    getDrinkByID(id).then((data) => {\n      setInProgressDrink(data.drinks[0]);\n    });\n    if (getIfHasBeenFavorited(id)) { setIsFavorite(true); }\n    if (checkLocalStorage === null) {\n      checkLocalStorage = { cocktails: [], meals: [] };\n    }\n    if (checkLocalStorage.cocktails === undefined) {\n      checkLocalStorage = { ...checkLocalStorage, cocktails: [] };\n      const newStorage = { ...checkLocalStorage, meals: { ...checkLocalStorage.meals, [id]: checked.checkbox, countChecked } };\n      localStorage.setItem('inProgressRecipes', JSON.stringify(newStorage));\n    } else {\n      const newStorage = { ...checkLocalStorage, meals: { ...checkLocalStorage.meals, [id]: checked.checkbox, countChecked } };\n      localStorage.setItem('inProgressRecipes', JSON.stringify(newStorage));\n    }\n    if (getIfHasBeenFavorited(id)) { setIsFavorite(true); }\n  }, [id, checkLocalStorage, checked, countChecked]);\n\n  const data = mountRecipeList(inProgressDrink, checked, ingredientsDoneList);\n  const buttonEnabled = countChecked === data.length;\n  const { location, history } = props;\n  const { pathname } = location;\n\n  return (\n    <CockTailsRenderRecipesInProgress\n      values={{\n        data,\n        buttonEnabled,\n        inProgressDrink,\n        showCopyAlert,\n        setShowCopyAlert,\n        checkLocalStorage,\n        isFavorite,\n        id,\n        checked,\n        setCountChecked,\n        setChecked,\n        countChecked,\n        setIsFavorite,\n        pathname,\n        history,\n      }}\n    />\n  );\n}\nProgressDrinkScreen.propTypes = {\n  match: PropTypes.string.isRequired,\n  location: PropTypes.string.isRequired,\n  history: PropTypes.string.isRequired,\n};\n\nexport default ProgressDrinkScreen;\n"]},"metadata":{},"sourceType":"module"}