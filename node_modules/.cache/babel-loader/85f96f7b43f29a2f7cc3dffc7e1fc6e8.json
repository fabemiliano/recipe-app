{"ast":null,"code":"var _jsxFileName = \"/Users/fmartins/Trybe/fabemiliano.github.io/projetos/recipe-app/sd-03-recipes-app-04/src/components/FavoriteRecipes.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport CopyToClipboard from 'react-copy-to-clipboard';\nimport './CSS/FavoriteRecipes.css';\nimport favorite from \"../images/blackHeartIcon.svg\";\nimport share from \"../images/shareIcon.svg\";\nimport Header from './Header';\n\nfunction updateStorage(id, setFavorites) {\n  const storage = JSON.parse(localStorage.getItem('favoriteRecipes'));\n  const newStorage = storage.filter(e => e.id !== id);\n  localStorage.setItem('favoriteRecipes', JSON.stringify(newStorage));\n  setFavorites(newStorage);\n}\n\nfunction filterBy(setFavorites, type) {\n  let storage = JSON.parse(localStorage.getItem('favoriteRecipes'));\n\n  if (!storage) {\n    storage = [];\n  }\n\n  setFavorites(storage.filter(e => e.type === type));\n}\n\nfunction getFavorites(setFavorites) {\n  let storage = JSON.parse(localStorage.getItem('favoriteRecipes'));\n\n  if (!storage) {\n    storage = [];\n  }\n\n  setFavorites(storage);\n}\n\nfunction renderfilterButtons(setFavorites) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"favorite-filter-buttons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    \"data-testid\": \"filter-by-food-btn\",\n    onClick: () => filterBy(setFavorites, 'comida'),\n    type: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }\n  }, \"Food\"), /*#__PURE__*/React.createElement(\"button\", {\n    \"data-testid\": \"filter-by-drink-btn\",\n    onClick: () => filterBy(setFavorites, 'bebida'),\n    type: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }\n  }, \"Drinks\"), /*#__PURE__*/React.createElement(\"button\", {\n    \"data-testid\": \"filter-by-all-btn\",\n    onClick: () => getFavorites(setFavorites),\n    type: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }, \"All\"));\n}\n\nfunction FavoriteRecipes() {\n  const [favorites, setFavorites] = useState([]);\n  useEffect(() => {\n    getFavorites(setFavorites);\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    screen: \"Receitas Favoritas\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }), renderfilterButtons(setFavorites), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"favorite-recipes-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }, favorites.map((e, i) => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"favorite-recipes-card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: `/${e.type}s/${e.id}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    \"data-testid\": `${i}-horizontal-image`,\n    src: e.image,\n    alt: \"favorite\",\n    width: \"150px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 48\n    }\n  })), /*#__PURE__*/React.createElement(Link, {\n    to: `/${e.type}s/${e.id}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    \"data-testid\": `${i}-horizontal-name`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 48\n    }\n  }, e.name)), /*#__PURE__*/React.createElement(\"div\", {\n    \"data-testid\": `${i}-horizontal-top-text`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 15\n    }\n  }, e.alcoholicOrNot === '' ? /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 46\n    }\n  }, `${e.area} - ${e.category}`) : /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 85\n    }\n  }, e.alcoholicOrNot)), /*#__PURE__*/React.createElement(CopyToClipboard, {\n    text: `http://localhost:3000/${e.type}s/${e.id}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: () => alert('Link copiado!'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    \"data-testid\": `${i}-horizontal-share-btn`,\n    src: share,\n    alt: \"share\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => updateStorage(e.id, setFavorites),\n    type: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    \"data-testid\": `${i}-horizontal-favorite-btn`,\n    src: favorite,\n    alt: \"favorite\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }\n  }))))));\n}\n\nexport default FavoriteRecipes;","map":{"version":3,"sources":["/Users/fmartins/Trybe/fabemiliano.github.io/projetos/recipe-app/sd-03-recipes-app-04/src/components/FavoriteRecipes.jsx"],"names":["React","useState","useEffect","Link","CopyToClipboard","Header","updateStorage","id","setFavorites","storage","JSON","parse","localStorage","getItem","newStorage","filter","e","setItem","stringify","filterBy","type","getFavorites","renderfilterButtons","FavoriteRecipes","favorites","map","i","image","name","alcoholicOrNot","area","category","alert","share","favorite"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport CopyToClipboard from 'react-copy-to-clipboard';\nimport './CSS/FavoriteRecipes.css';\nimport favorite from '../images/blackHeartIcon.svg';\nimport share from '../images/shareIcon.svg';\nimport Header from './Header';\n\nfunction updateStorage(id, setFavorites) {\n  const storage = JSON.parse(localStorage.getItem('favoriteRecipes'));\n  const newStorage = storage.filter((e) => e.id !== id);\n  localStorage.setItem('favoriteRecipes', JSON.stringify(newStorage));\n  setFavorites(newStorage);\n}\n\nfunction filterBy(setFavorites, type) {\n  let storage = JSON.parse(localStorage.getItem('favoriteRecipes'));\n  if (!storage) { storage = []; }\n  setFavorites(storage.filter((e) => e.type === type));\n}\n\nfunction getFavorites(setFavorites) {\n  let storage = JSON.parse(localStorage.getItem('favoriteRecipes'));\n  if (!storage) { storage = []; }\n  setFavorites(storage);\n}\n\nfunction renderfilterButtons(setFavorites) {\n  return (\n    <div className=\"favorite-filter-buttons\">\n      <button\n        data-testid=\"filter-by-food-btn\"\n        onClick={() => filterBy(setFavorites, 'comida')}\n        type=\"button\"\n      >\n        Food\n      </button>\n      <button\n        data-testid=\"filter-by-drink-btn\"\n        onClick={() => filterBy(setFavorites, 'bebida')}\n        type=\"button\"\n      >\n        Drinks\n      </button>\n      <button\n        data-testid=\"filter-by-all-btn\"\n        onClick={() => getFavorites(setFavorites)}\n        type=\"button\"\n      >\n        All\n      </button>\n    </div>\n  );\n}\n\nfunction FavoriteRecipes() {\n  const [favorites, setFavorites] = useState([]);\n  useEffect(() => {\n    getFavorites(setFavorites);\n  }, []);\n  return (\n    <div>\n      <Header screen=\"Receitas Favoritas\" />\n      {renderfilterButtons(setFavorites)}\n      <div className=\"favorite-recipes-container\">\n        {favorites.map((e, i) => (\n          (\n            <div className=\"favorite-recipes-card\">\n              <Link to={`/${e.type}s/${e.id}`}><img data-testid={`${i}-horizontal-image`} src={e.image} alt=\"favorite\" width=\"150px\" /></Link>\n              <Link to={`/${e.type}s/${e.id}`}><p data-testid={`${i}-horizontal-name`}>{e.name}</p></Link>\n              <div data-testid={`${i}-horizontal-top-text`}>\n                {(e.alcoholicOrNot === '') ? <p>{`${e.area} - ${e.category}`}</p> : <p>{e.alcoholicOrNot}</p>}\n              </div>\n              <CopyToClipboard text={`http://localhost:3000/${e.type}s/${e.id}`}>\n                <button\n                  type=\"button\"\n                  onClick={() => alert('Link copiado!')}\n                >\n                  <img data-testid={`${i}-horizontal-share-btn`} src={share} alt=\"share\" />\n                </button>\n              </CopyToClipboard>\n              <button\n                onClick={() => updateStorage(e.id, setFavorites)}\n                type=\"button\"\n              >\n                <img data-testid={`${i}-horizontal-favorite-btn`} src={favorite} alt=\"favorite\" />\n              </button>\n            </div>\n          )\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default FavoriteRecipes;\n"]},"metadata":{},"sourceType":"module"}