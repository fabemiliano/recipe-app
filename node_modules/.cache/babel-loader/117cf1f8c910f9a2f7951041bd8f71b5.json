{"ast":null,"code":"var _jsxFileName = \"/Users/fmartins/Trybe/fabemiliano.github.io/projetos/recipe-app/sd-03-recipes-app-04/src/components/ExploreFoodOriginScreen.jsx\";\nimport React, { useState, useEffect, useContext } from 'react';\nimport { Link } from 'react-router-dom';\nimport { ContextAplication } from '../context/ContextAplication';\nimport { getAreaList, getMealByArea } from '../services/foodApi';\nimport InferiorMenu from './InferiorMenu';\nimport Header from './Header';\nimport './CSS/MainFoodScreen.css';\n\nfunction MealsList(Data) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"recipes-results\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 5\n    }\n  }, Data.reduce((arr, e, i) => {\n    if (i < 12) {\n      return [...arr, /*#__PURE__*/React.createElement(Link, {\n        to: `/comidas/${e.idMeal}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 15,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: `product-pic product-pic-${i} slide-in-fwd-center`,\n        \"data-testid\": `${i}-recipe-card`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 16,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        className: \"recipe-image\",\n        src: e.strMealThumb,\n        alt: \"thumbnail\",\n        width: \"120px\",\n        \"data-testid\": `${i}-card-img`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 17,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"h5\", {\n        \"data-testid\": `${i}-card-name`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 24,\n          columnNumber: 17\n        }\n      }, e.strMeal.length > 30 ? `${e.strMeal.slice(0, 30)}...` : e.strMeal)))];\n    }\n\n    return arr;\n  }, []));\n}\n\nfunction renderAreaFilter(areas, setAreaFilter, areaFilter, setMealsByArea) {\n  return /*#__PURE__*/React.createElement(\"select\", {\n    className: \"select-filter\",\n    \"data-testid\": \"explore-by-area-dropdown\",\n    onChange: e => {\n      getMealByArea(e.target.value).then(data => setMealsByArea(data.meals));\n      setAreaFilter(e.target.value);\n    },\n    value: areaFilter,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 5\n    }\n  }, areas.map(e => /*#__PURE__*/React.createElement(\"option\", {\n    \"data-testid\": `${e.strArea}-option`,\n    value: e.strArea,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, e.strArea)), /*#__PURE__*/React.createElement(\"option\", {\n    \"data-testid\": \"All-option\",\n    value: \"All\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, \"All\"));\n}\n\nfunction ShowResultsByArea(Data, mealsByArea, areaFilter) {\n  if (areaFilter !== 'All') {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"recipes-results\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 7\n      }\n    }, mealsByArea.reduce((arr, e, i) => {\n      if (i < 12) {\n        return [...arr, /*#__PURE__*/React.createElement(Link, {\n          to: `/comidas/${e.idMeal}`,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: `product-pic product-pic-${i} slide-in-fwd-center`,\n          \"data-testid\": `${i}-recipe-card`,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          className: \"recipe-image\",\n          src: e.strMealThumb,\n          alt: \"thumbnail\",\n          width: \"120px\",\n          \"data-testid\": `${i}-card-img`,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 19\n          }\n        }), /*#__PURE__*/React.createElement(\"h5\", {\n          \"data-testid\": `${i}-card-name`,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 19\n          }\n        }, e.strMeal.length > 30 ? `${e.strMeal.slice(0, 30)}...` : e.strMeal)))];\n      }\n\n      return arr;\n    }, []));\n  }\n\n  return MealsList(Data);\n}\n\nexport default function ExploreFoodOriginScreen() {\n  const {\n    Data,\n    getMeals,\n    searchInputVisible\n  } = useContext(ContextAplication);\n  const [isLoading, setisLoading] = useState(false);\n  const [areas, setAreas] = useState([]);\n  const [areaFilter, setAreaFilter] = useState('All');\n  const [mealsByArea, setMealsByArea] = useState([]);\n  useEffect(() => {\n    setisLoading(true);\n    getMeals();\n    setisLoading(false);\n    getAreaList().then(data => setAreas(data.meals));\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"food-screen\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    screen: \"Explorar Origem\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }\n  }), isLoading && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"loader\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 23\n    }\n  }), !isLoading && !searchInputVisible, renderAreaFilter(areas, setAreaFilter, areaFilter, setMealsByArea), !isLoading && ShowResultsByArea(Data, mealsByArea, areaFilter), /*#__PURE__*/React.createElement(InferiorMenu, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 9\n    }\n  })));\n}","map":{"version":3,"sources":["/Users/fmartins/Trybe/fabemiliano.github.io/projetos/recipe-app/sd-03-recipes-app-04/src/components/ExploreFoodOriginScreen.jsx"],"names":["React","useState","useEffect","useContext","Link","ContextAplication","getAreaList","getMealByArea","InferiorMenu","Header","MealsList","Data","reduce","arr","e","i","idMeal","strMealThumb","strMeal","length","slice","renderAreaFilter","areas","setAreaFilter","areaFilter","setMealsByArea","target","value","then","data","meals","map","strArea","ShowResultsByArea","mealsByArea","ExploreFoodOriginScreen","getMeals","searchInputVisible","isLoading","setisLoading","setAreas"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport { Link } from 'react-router-dom';\nimport { ContextAplication } from '../context/ContextAplication';\nimport { getAreaList, getMealByArea } from '../services/foodApi';\nimport InferiorMenu from './InferiorMenu';\nimport Header from './Header';\nimport './CSS/MainFoodScreen.css';\n\nfunction MealsList(Data) {\n  return (\n    <div className=\"recipes-results\">\n      {Data.reduce((arr, e, i) => {\n        if (i < 12) {\n          return [...arr,\n            <Link to={`/comidas/${e.idMeal}`}>\n              <div className={`product-pic product-pic-${i} slide-in-fwd-center`} data-testid={`${i}-recipe-card`}>\n                <img\n                  className=\"recipe-image\"\n                  src={e.strMealThumb}\n                  alt=\"thumbnail\"\n                  width=\"120px\"\n                  data-testid={`${i}-card-img`}\n                />\n                <h5 data-testid={`${i}-card-name`}>{(e.strMeal.length > 30) ? `${e.strMeal.slice(0, 30)}...` : e.strMeal}</h5>\n              </div>\n            </Link>,\n          ];\n        }\n        return arr;\n      }, [])}\n    </div>\n  );\n}\n\nfunction renderAreaFilter(areas, setAreaFilter, areaFilter, setMealsByArea) {\n  return (\n    <select\n      className=\"select-filter\"\n      data-testid=\"explore-by-area-dropdown\"\n      onChange={(e) => {\n        getMealByArea(e.target.value).then((data) => setMealsByArea(data.meals));\n        setAreaFilter(e.target.value);\n      }}\n      value={areaFilter}\n    >\n      {areas.map((e) => (\n        <option\n          data-testid={`${e.strArea}-option`}\n          value={e.strArea}\n        >\n          {e.strArea}\n        </option>\n      ))}\n      <option data-testid=\"All-option\" value=\"All\">All</option>\n    </select>\n  );\n}\n\nfunction ShowResultsByArea(Data, mealsByArea, areaFilter) {\n  if (areaFilter !== 'All') {\n    return (\n      <div className=\"recipes-results\">\n        {mealsByArea.reduce((arr, e, i) => {\n          if (i < 12) {\n            return [...arr,\n              <Link to={`/comidas/${e.idMeal}`}>\n                <div className={`product-pic product-pic-${i} slide-in-fwd-center`} data-testid={`${i}-recipe-card`}>\n                  <img\n                    className=\"recipe-image\"\n                    src={e.strMealThumb}\n                    alt=\"thumbnail\"\n                    width=\"120px\"\n                    data-testid={`${i}-card-img`}\n                  />\n                  <h5 data-testid={`${i}-card-name`}>{(e.strMeal.length > 30) ? `${e.strMeal.slice(0, 30)}...` : e.strMeal}</h5>\n                </div>\n              </Link>,\n            ];\n          }\n          return arr;\n        }, [])}\n      </div>\n    );\n  }\n  return MealsList(Data);\n}\n\nexport default function ExploreFoodOriginScreen() {\n  const {\n    Data,\n    getMeals,\n    searchInputVisible,\n  } = useContext(ContextAplication);\n  const [isLoading, setisLoading] = useState(false);\n  const [areas, setAreas] = useState([]);\n  const [areaFilter, setAreaFilter] = useState('All');\n  const [mealsByArea, setMealsByArea] = useState([]);\n\n  useEffect(() => {\n    setisLoading(true);\n    getMeals();\n    setisLoading(false);\n    getAreaList().then((data) => setAreas(data.meals));\n  }, []);\n\n  return (\n    <div>\n      <div className=\"food-screen\">\n        <Header screen=\"Explorar Origem\" />\n        {isLoading && <div className=\"loader\" />}\n        {!isLoading && !searchInputVisible}\n        {renderAreaFilter(areas, setAreaFilter, areaFilter, setMealsByArea)}\n        {!isLoading && ShowResultsByArea(Data, mealsByArea, areaFilter)}\n        <InferiorMenu />\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}